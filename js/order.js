const forms=document.querySelectorAll("form");var personalInfo,currentStep=0;function validate(e){switch(e.id){case"full-name":case"email":case"phone":""!=e.value.trim?e.parentElement.querySelector("i").classList.add("active"):e.parentElement.querySelector("i").classList.remove("active")}switch(e.id){case"full-name":case"subject":case"message":""===e.value.trim()?showError(e,`${e.id.replace("-"," ")} is required`):showSuccess(e);break;case"phone":e.value=e.value.replace(/[^0-9]+/,""),10!=e.value.length?showError(e,"Please Enter a Valid Phone Number"):showSuccess(e);break;case"email":e.value.match(/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/)?showSuccess(e):showError(e,"Please Enter a Valid E-Mail");break;case"quantity-40-mm":case"quantity-20-mm":case"quantity-6-mm":case"quantity-dust":Array.from(document.querySelectorAll("input[type='number']")).every(e=>e.value>=0)?showSuccess(e.parentElement):showError(e.parentElement,"Please make sure the Quantity is 0 / above")}}function validateAll(){let e=forms[currentStep].querySelectorAll("input, textarea");return e.forEach(e=>e.onkeyup=(e=>validate(e.path[0]))),Array.from(e).every(e=>e.id.includes("quantity")?e.parentElement.classList.contains("success"):e.classList.contains("success"))}function showStep(e){forms.forEach(e=>e.removeAttribute("class")),forms[e].classList.add("current-step"),document.querySelectorAll("#steps > *").forEach(e=>{e.removeAttribute("class")}),document.querySelector(`#step-${currentStep}`).setAttribute("class","active-step"),1==e&&document.querySelector("#steps > span").setAttribute("class","right")}function showSuccess(e){e.setAttribute("class","success"),e.parentElement.querySelector("span").innerHTML=""}function showError(e,t){e.setAttribute("class","error"),e.parentElement.querySelector("span").innerHTML=t}Object.keys(localStorage).length>0&&(document.querySelector("#full-name").value=localStorage.FullName,document.querySelector("#phone").value=localStorage.Phone,document.querySelector("#email").value=localStorage.Email),showStep(currentStep),validateAll(),document.querySelector("#btn-next").onclick=(()=>{if(document.querySelectorAll("#personal-info input").forEach(e=>validate(e)),validateAll()){personalInfo={FullName:document.querySelector("#full-name").value,Phone:document.querySelector("#phone").value,Email:document.querySelector("#email").value};for(const e in personalInfo)localStorage.setItem(e,personalInfo[e]);showStep(++currentStep),validateAll()}}),emailjs.init("user_urCFZKfuiIFI7H2tqqhfb"),document.querySelector("#btn-send").onclick=(()=>{if(validateAll()){const t=document.querySelector("#message-confirmation");t.querySelector("i").setAttribute("class","fas fa-spinner"),t.querySelector("#message").innerHTML="Sending Message...",t.querySelector("#detail").innerHTML="Just a Moment...";var e={Subject:document.querySelector("#subject").value,Message:document.querySelector("#message").value,Quantity40mm:document.querySelector("#quantity-40-mm").value,Quantity20mm:document.querySelector("#quantity-20-mm").value,Quantity6mm:document.querySelector("#quantity-6-mm").value,QuantityDust:document.querySelector("#quantity-dust").value};emailjs.send("SSCemailJSConfigSID","SSCemailJSConfigTID",{...personalInfo,...e}).then(e=>{t.setAttribute("class","success-confirmation"),t.querySelector("i").setAttribute("class","far fa-smile"),t.querySelector("#message").innerHTML="Message Sent Successfully!",t.querySelector("#detail").innerHTML="We will get back to you soon."},e=>{t.setAttribute("class","error-confirmation"),t.querySelector("i").setAttribute("class","far fa-frown"),t.querySelector("#message").innerHTML="Sorry, the Message Could Not Be Sent",t.querySelector("#detail").innerHTML="Please try again later or directly Contact Us"})}else document.querySelectorAll("#query-details input, textarea").forEach(e=>validate(e))}),document.querySelector("#message").onkeydown=function(){0!=this.scrollTop&&(this.style.height=this.scrollHeight+"px")};